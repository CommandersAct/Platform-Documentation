# Adform

[Adform](https://site.adform.com/) is a global digital media advertising technology company specializing in real-time programmatic marketing automation technologies. Using this destination you can implement [server-side tracking](https://www.adformhelp.com/hc/en-us/articles/9740579489041-Use-Server-Side-Tracking).

{% hint style="info" %}
This destination is currently under final review and will be available soon.
{% endhint %}

## Key features

The Adform destination provides the following key features:

* **Events structure**: our [Events reference](https://community.commandersact.com/platform-x/developers/tracking/events-reference) covers [Adform server-side tracking](https://www.adformhelp.com/hc/en-us/articles/9740579489041-Use-Server-Side-Tracking), meaning that your data is properly bridged to the expected fields in an optimized way.
* **Prebuilt mappings**: data mapping for event-based destinations happens automatically, which simplifies user inputs.
* **Smart mapping**: data mapping can be readjusted using your datalayer defined fields.
* **Support for multi-item data**: information included in the [item ](https://community.commandersact.com/platform-x/developers/tracking/events-reference#item)array is bridged to Partnerize.

## Destination setup

{% hint style="info" %}
Use **** [**Destination filters**](https://doc.commandersact.com/features/destinations/destination-filters) to refine events matching your specific needs.
{% endhint %}

### Configuration

| Settings                                | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| --------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `Tracking Domain`                       | <p><em><strong><code>Required</code></strong></em></p><p>Your tracking domain as set on Adform UI (E.g. "a1.adform.net", without quotes). More details are available following this <a href="https://www.adformhelp.com/hc/articles/9740579553169#UUID-f565672b-d386-6014-c06e-054f43b67a2d">LINK</a>. This setting supports dynamic values <strong>[1][2]</strong>.</p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `Tracking Setup Id`                     | <p><em><strong><code>Required</code></strong></em><br>Your client tracking ID, which can be found under "Site Tracking" in Adform UI (E.g. "1257163", without quotes). This setting supports dynamic values <strong>[1][2]</strong>.</p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `Tracking Point Name Property`          | Your property holding the tracking point name. In case it's not set, `Page URL (pageUrl)` will be used.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| `Select your Adform third-party holder` | This can be either `Cookie` or `Event property`, depending on how you provide Adform third-party identifier value.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| `Third-Party Id Cookie Name`            | If you select `Cookie` in `Select your Adform third-party holder`, you can set your Adform third-party cookie name here.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `Third-Party Id Property`               | If you select `Event property` in `Select your Adform third-party holder`, you can set your Adform third-party property name here.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| `Select your Adform first-party holder` | This can be either `Cookie` or `Event property`, depending on how you provide Adform first-party identifier value.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| `First-Party Id Cookie Name`            | If you select `Cookie` in `Select your Adform first-party holder`, you can set your Adform first-party cookie name here. Only use for hybrid setups, where part of site tracking is implemented client-side to be able to pass its value that Adform has set previously.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `First-Party Id Cookie Domain`          | If you select `Cookie` in `Select your Adform first-party holder`, you can set your Adform first-party cookie domain here. Only use for hybrid setups, where part of site tracking is implemented client-side to be able to pass its value that Adform has set previously.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| `First-Party Id Property`               | If you select `Event property` in `Select your Adform first-party holder`, you can set your Adform first-party property name here.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| `Custom Event Properties`               | <p>Map your custom event properties by setting their field names in <code>Adform property name</code> and adding the field name holding the value <strong></strong> in <code>Your event property</code>. E.g. if you input<code>size</code>in the <code>Partnerize property name</code> and <code>properties.items.0.product.size</code> in <code>Your event property</code>, you'll have a custom event property in Adform called<code>size</code>with a value based on the content of the field <code>properties.items.0.product.size</code> <strong>[2]</strong>.</p><p><br>In the column <code>Your event property path</code> you should keep the default value <code>Default (root)</code> as this fits most scenarios. In case you select either <code>In "items" {items.X}</code> or <code>In "product" {items.X.product}</code> this destination will look for the input event property starting from the <a href="https://community.commandersact.com/platform-x/developers/tracking/events-reference#item">items </a>or <a href="https://community.commandersact.com/platform-x/developers/tracking/events-reference#product">product </a>level respectively and add it as a custom entry in <code>subVariables</code>. More details are available following this <a href="https://www.adformhelp.com/hc/articles/9740579553169#UUID-f565672b-d386-6014-c06e-054f43b67a2d">LINK</a> (section: "Add Custom Variables").</p> |

{% hint style="info" %}
**1]** This feature allows you to set an event property holding a dynamic value by adding two open braces (`{{`) in front of your property name and two close braces (`}}`) at the end (E.g. `{{myEventPropertyPathAndName}}`).\
**\[2]** Using "dots" (".") you can navigate deeper to the specific field you want to get the value of. See [Events reference](https://community.commandersact.com/platform-x/developers/tracking/events-reference) for more details on the standard field names by event. You can also freely set custom fields: there are no boundaries.
{% endhint %}

## Quick reference

| Commanders Act Events   | Adform Tracking          |
| ----------------------- | ------------------------ |
| `[All events]` **\[1]** | `[Tracking Point Names]` |

{% hint style="info" %}
**\[1]** Custom events are also supported.
{% endhint %}

## Field mappings

{% hint style="info" %}
Most properties can be remapped using our "Smart Mapping" feature.\
For audience building and retargeting, make sure to pass a user identifier.\
Geo and device information come from the provided user ip and agent.\
Adform standard attribution works only if<mark style="color:blue;">`identity.cookieId`</mark>(Adform 3rd party cookie) or<mark style="color:blue;">`identity.advertisingId`</mark>(mobile advertising ID) is passed correctly.\
Adform Cookieless Insights reporting is enabled by passing values in both<mark style="color:blue;">`userContext.userAgent`</mark>and<mark style="color:blue;">`userContext.userIp`</mark>.
{% endhint %}

| Commanders Act Properties                                                                  | Adform Properties                       |
| ------------------------------------------------------------------------------------------ | --------------------------------------- |
| <p><code>Third-Party Id Cookie Name</code> </p><p><code>Third-Party Id Property</code></p> | `identity.cookieId` **\[1]**            |
| <p><code>First-Party Id Cookie Name</code></p><p><code>First-Party Id Property</code></p>  | `identity.firstPartyId.id` **\[1]**     |
| <p><code>First-Party Id Cookie Domain</code> </p><p><code>(context.page.url)</code></p>    | `identity.firstPartyId.domain` **\[2]** |
| `Tracking Point Name Property`                                                             | `name`                                  |
| `context.page.url`                                                                         | `pageUrl`                               |
| `context.page.referrer`                                                                    | `refererUrl`                            |
| `context.device.advertising_id`                                                            | `identity.advertisingId`                |
| `partners.adform.provider_id`                                                              | `identity.eids.0.source`                |
| `user.id`                                                                                  | `identity.eids.0.uids.0.id`             |
| `context.device.user_agent`                                                                | `userContext.userAgent`                 |
| `context.device.ip`                                                                        | `userContext.userIp`                    |
| `value`                                                                                    | `variables.sales`                       |
| `id`                                                                                       | `variables.orderid`                     |
| `properties.items.X.id`                                                                    | `variables.subVariables.X.productid`    |
| `properties.items.X.product.price`                                                         | `variables.subVariables.X.productsales` |

{% hint style="info" %}
**\[1]** Cookie name or property is used based on your [Configuration](adform.md#configuration).\
**\[2]** Priority order is listed in the left column.
{% endhint %}
