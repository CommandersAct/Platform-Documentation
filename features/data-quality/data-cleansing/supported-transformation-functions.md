---
description: No-code Transformation formulas for Data cleansing
---

# Supported transformation functions - Data cleansing

In the formula input, you can can write basic or complex expression to transform the data.\
\
Expressions are composed of either a value, a function, an operation, or another expression in parenthesis. See below for the description of each one of them.

{% hint style="info" %}
Functions can be nested, ex: `SHA256(LOWER(user.email))`
{% endhint %}

## Available functions

| FUNCTION NAME                                   | WHAT IT DOES                                                                                                                                                                                                                                                                                       | Example                                                                                                                                                                                                                                      |
| ----------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| EXTRACT(text, delimiter, position)              | Extracts from the given text the substring at the given position, after splitting by the given delimiter.                                                                                                                                                                                          | <p><code>EXTRACT("a_b_c", "_", 1)</code> <br><code></code>returns <code>"b"</code></p><p><code>EXTRACT("a_b_c", "_", 0)</code><br><code></code>returns <code>"a"</code></p>                                                                  |
| SUBSTITUTE(text, search\_text,substitute\_text) | Substitutes new\_text for old\_text in a text string. Use SUBSTITUTE when you want to replace specific text in a text string.                                                                                                                                                                      | `SUBSTITUTE("The-Clone-Wars", "-", ".")`returns `"The.Clone.Wars"`                                                                                                                                                                           |
| REPLACE(sourceStr, pattern, replaceStr)         | Replaces every match of pattern (a regex expression) in sourceStr.                                                                                                                                                                                                                                 | <p><code>REPLACE("The Clone Wars", "\\s", ".")</code> <br>returns <code>"The.Clone.Wars"</code><br><code></code></p><p><code>REPLACE('0123456789', '([0-9]{2})', '$1-')</code><br><code></code>returns</p><p><code>01-23-45-67-89</code></p> |
| SHA256(stringToHash)                            | Returns an SHA256 hash of the given string                                                                                                                                                                                                                                                         | <p><code>SHA256("test")</code><br>returns <code>"9f86d081884c7d659a2feaa0c55ad015a3bf4f1b2b0b822cd15d6c15b0f00a08"</code></p>                                                                                                                |
| MD5(stringToHash)                               | Returns an MD5 hash of the given string                                                                                                                                                                                                                                                            | <p><code>MD5("test")</code><br>returns<br><code>"098f6bcd4621d373cade4e832627b4f6"</code></p>                                                                                                                                                |
| COALESCE(value1, value2, ...)                   | Returns the first value from the list that isn’t empty                                                                                                                                                                                                                                             | <p><code>COALESCE("123", "hello")</code><br>returns<br><code>"123"</code></p>                                                                                                                                                                |
| CONCAT(string1, string2, ...)                   | <p>Concatenate multiple values into one property. Separators could be specified:<br>CONCAT(prop1, " | ", prop2, " | ", prop3).<br>It is also possible to easily concatenate with "+" but it is recommended to use the CONCAT function if the variables to be concatenated can contain numbers.</p> | <p><code>CONCAT ("abc", "def", null, "ghi")</code><br>returns<br><code>"abcdefghi"</code></p>                                                                                                                                                |
| TRIM(text)                                      | Removes all spaces, new lines, tabulations at the beginning and at the end of a text.                                                                                                                                                                                                              | <p><code>TRIM(" \Hello World \n")</code> <br>returns <br><code>"Hello World"</code></p>                                                                                                                                                      |
| SELECT(sourceStr, pattern, \<position>)         | <p>Returns the first match of the pattern (a regex expression) in sourceStr.<br>If the third parameter is set, it will return the corresponding group inside the match. </p>                                                                                                                       | <p><code>SELECT("From A to Z alphabet", 'A(.*?)Z")</code><br>returns<br> <code>"A to Z"</code></p>                                                                                                                                           |
| LOWER(text)                                     | Converts all uppercase letters in a text string to lowercase                                                                                                                                                                                                                                       | <p><code>LOWER("ABC")</code><br>returns <br><code>"abc"</code></p>                                                                                                                                                                           |
| UPPER(text)                                     | Converts all lowercase letters in a text string to uppercase                                                                                                                                                                                                                                       | <p><code>UPPER("abc")</code><br>returns <br><code>"ABC"</code></p>                                                                                                                                                                           |
| NUMBER(value1)                                  | Converts string to number                                                                                                                                                                                                                                                                          | <p><code>NUMBER("123.456")</code> returns <br><code>123.456</code></p><p> </p><p><code>NUMBER("not a number")</code><br>returns<br><code>null</code></p>                                                                                     |
| ENCODE\_BASE64(value1)                          | Encode a string to base64                                                                                                                                                                                                                                                                          | <p><code>ENCODE_BASE64("hello")</code> <br>returns <br><code>"aGVsbG8="</code></p>                                                                                                                                                           |
| DECODE\_BASE64(value1)                          | Decode a string from base64                                                                                                                                                                                                                                                                        | <p><code>DECODE_BASE64("aGVsbG8=")</code> <br>returns <br><code>"hello"</code></p>                                                                                                                                                           |
| ~~TODAY()~~                                     | Returns the current system date (soon)                                                                                                                                                                                                                                                             | -                                                                                                                                                                                                                                            |
| TIMESTAMP()                                     | Returns the current date timestamp                                                                                                                                                                                                                                                                 | `TIMESTAMP ()` returns a value like `1674832519845` (changes with the current time)                                                                                                                                                          |
| LEFT(text, length)                              | Returns the requested number of characters from the beginning of a string or number.                                                                                                                                                                                                               | <p><code>LEFT("Hello world", 3)</code> <br><code></code>returns <br><code>"Hel"</code></p>                                                                                                                                                   |
| RIGHT(text, length)                             | Returns the requested number of characters from the end of a string or number.                                                                                                                                                                                                                     | <p><code>RIGHT("Hello world", 2)</code> <br><code></code>returns <br><code>"ld"</code></p>                                                                                                                                                   |
| CHAR(text, position)                            | Returns the character at the specified position (start at 0).                                                                                                                                                                                                                                      | <p><code>CHAR("Hello world", 5)</code> <br><code></code>returns <br><code>"o"</code></p>                                                                                                                                                     |
| IF(condition,resultIfTrue,resultIfFalse)        | Returns the second argument if the first argument is true, or the third argument otherwise                                                                                                                                                                                                         | `IF(city="Paris", ListA, ListB)`                                                                                                                                                                                                             |
| ISEMPTY(value)                                  | Returns whether the value is empty or not                                                                                                                                                                                                                                                          | <p>ISEMPTY("abc") <br>returns <br>false</p>                                                                                                                                                                                                  |
| SIZE(array or object)                           | Returns the number of elements in the list                                                                                                                                                                                                                                                         | <p><code>SIZE(items)</code> <br>returns the number of items</p>                                                                                                                                                                              |
| LENGTH(string)                                  | Returns the number of characters in the string                                                                                                                                                                                                                                                     | <p><code>LENGTH("abc")</code> <br>returns <br><code>3</code></p>                                                                                                                                                                             |
| SUBSTRING(text, pos1, pos2)                     | Returns a new string composed of the characters between the two position defined by pos1 and pos2. The positions start at 0. If a negative number is given, the positions start from the end of the string. If pos2 is omitted, the end of the string is used.                                     | <p><code>SUBSTRING("hello beautiful world", 6, 14)</code><br>returns <br><code>"beautiful"</code></p>                                                                                                                                        |

## Operators

| **Operator**                      | **Description**                                                                                                                                                                                                     | **Example**                    |
| --------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------ |
| =, ==                             | <p>Return true if the left part is equal to the right part.<br>If one of the part is an array, check if some values are in equal between the two parts.</p>                                                         | `gender = "F"`                 |
| !=, <>                            | Inverse of the above                                                                                                                                                                                                | `gender != "F"`                |
| AND or &&                         | Do a boolean AND between the two parts                                                                                                                                                                              | `age >18 AND gender = "M"`     |
| OR or \|\|                        | Do a boolean OR between the two parts                                                                                                                                                                               | `age >18 OR gender = "M"`      |
| NOT(expression)                   | Do a boolean NOT on the expression                                                                                                                                                                                  | `NOT(age>18)`                  |
| IN()                              | Returns true if the left is equals to at least one value on the right.                                                                                                                                              | `currency IN ("€", "$", "£")`  |
| !IN                               | Returns true if none of the value on the right is equal to the value on the left.                                                                                                                                   | `currency !IN ("€", "$", "£")` |
| <, >, <=, or >=                   | <p>Compare two values<br>If one of the values is an array, check that at least one of the value match.</p>                                                                                                          | `age > 18`                     |
| BETWEEN()                         | Check if the left value is between the two values passed as arguments.If the left value is an array, check that at least one of the value match.                                                                    | `age BETWEEN (7, 80)`          |
| \~ or !\~                         | <p>Check if the left value match the regex in the right value (or doesn’t match if !~). The regex language is the javascript one.<br>If the left value is an array, check that at least one of the value match.</p> | `email ~ "@example.com"`       |
| STARTSWITH, ENDSWITH, or CONTAINS | <p>Check if the left value starts with, ends with, or contains the right value.<br>If the left value is an array, check that at least one of the value match.</p>                                                   | `lastname STARTSWITH "DE"`     |
| \* or /                           | Multiplication or division                                                                                                                                                                                          | `3*5`                          |
| + or -                            | Addition / concatenation or substraction                                                                                                                                                                            | `1+2`                          |

## Examples

Scenario: Create a Flag that shows if Consumers’ Primary Address is in California\
`IF(EXTRACT(city_state, '-', 1) == " CA", "TRUE", "FALSE")`

``
